{"payload":{"meta":{"Graph":{"@Type":"81297157","@Value":{"Guid":"(Guid)2f345b0b-16af-48d1-9af1-da7c6f302e5a","ParentGuid":"(Guid)e5bfc32b-c009-4617-8d43-99d17010d8e8","Name":"(string)PLC_PRG","Properties":{"@Type":"2c41fa04:IDictionary","@Value":{}},"TypeGuid":"(Guid)6f9dac99-8de1-4efc-8465-68ac443b7d08","EmbeddedTypeGuids":{"@Type":"[Guid]","@Value":["(Guid)a9ed5b7e-75c5-4651-af16-d2c27e98cb94","(Guid)3b83b776-fb25-43b8-99f2-3c507c9143fc"]}}},"TypeInfos":{"2c41fa04":"{2c41fa04-1834-41c1-816e-303c7aa2c05b}","81297157":"{81297157-7ec9-45ce-845e-84cab2b88ade}","Guid":"System.Guid","string":"System.String"}},"object":{"Graph":{"@Type":"6f9dac99","@Value":{"SpecialFunc":{"@Type":"0db3d7bb:Enum","@Value":"None"},"Implementation":{"@Type":"3b83b776","@Value":{"TextDocument":{"@Type":"f3878285","@Value":{"TextBlobForSerialisation":"(string)RAKLAP(EN:= (GVL.STATE = STATE.RAKLAP_LE) OR \n(GVL.STATE = STATE.REKLAP_BERAKAS_DOBOZ_INDITAS) OR \n(GVL.STATE = STATE.UTOLSO_SOR));\n\nRAKLAP.KIRAKAS := (GVL.STATE = STATE.UTOLSO_SOR);\nRAKLAP.BERAKAS := ((GVL.STATE = STATE.REKLAP_BERAKAS_DOBOZ_INDITAS) AND (SOR_SZAM = 0) );\nRAKLAP.LEFELE :=  NOT ((GVL.STATE = STATE.REKLAP_BERAKAS_DOBOZ_INDITAS) AND (SOR_SZAM = 0) );\nRAKLAP.HARMADIK := (PALETA_SZAM >= 3 );\n\n\nPRESET(EN:= (GVL.STATE = STATE.PRESET));\nDOBOZ(EN:= (GVL.STATE = STATE.REKLAP_BERAKAS_DOBOZ_INDITAS));\nTRANS_OSSZENYITAS_ELENGEDES_T(PT:= T#2S, IN:= (GVL.STATE = STATE.OSSZENYITAS));\nTRANS_ELENGEDES_RAKLAP_LE_T(PT:= T#2S, IN:= (GVL.STATE = STATE.ELENGEDES));\nTRANS_ELENGEDES_UTOLSO_SOR_T(PT:= T#0S, IN:= (GVL.STATE = STATE.ELENGEDES));\n\nIF I.RESET AND (NOT (GVL.STATE = STATE.WAIT_FOR_START)) THEN\n\tPALETA_SZAM := 0;\n\tSOR_SZAM:=0;\n\tUTOLSO_SOR:= FALSE;\n\tDOBOZ_MODE:=0;\n\tGVL.STATE := STATE.PRESET;\nEND_IF\nIF I.EMERG THEN\n\tGVL.STATE := STATE.EMERG;\nEND_IF\n\nCASE GVL.STATE OF\n\tSTATE.EMERG:\n\t%QW20 := 0;\n\n\tIF NOT I.EMERG THEN\n\t\tGVL.STATE := STATE.PRESET;\n\tEND_IF\n\n\n\tSTATE.PRESET:\n\n\tIF PRESET.DONE THEN\n\t\tGVL.STATE := STATE.WAIT_FOR_START;\n\tEND_IF\n\n\n\tSTATE.WAIT_FOR_START:\n\n\tIF I.AUTO AND GVL.START_R_TRIG.Q THEN\n\t\tGVL.STATE := STATE.REKLAP_BERAKAS_DOBOZ_INDITAS;\n\tEND_IF\n\n\tSTATE.REKLAP_BERAKAS_DOBOZ_INDITAS:\n\t//BERAKAS\n\n\tIF RAKLAP.DONE AND DOBOZ.DONE THEN\n\t\tSOR_SZAM := SOR_SZAM  + 1;\n\t\t\n\t\t\n\t\tUTOLSO_SOR := SOR_SZAM >= 3 ;\n\t\t\n\n\t\tGVL.STATE := STATE.DOBOZ_MEGFOG;\n\tEND_IF\n\n\tSTATE.OSSZENYITAS:\n\t//DOBOZ MODE VALTAS\n\n\tIF TRANS_OSSZENYITAS_ELENGEDES_T.Q THEN\n\t\tGVL.STATE := STATE.ELENGEDES;\n\tEND_IF\n\n\tSTATE.RAKLAP_LE:\n\t//LEKEL MENNI\n\t//STOP IRASDA\n\n\tIF RAKLAP.DONE THEN\n\t\t//DOBOZ MODE VALTAS\n\t\tDOBOZ_MODE := NOT DOBOZ_MODE;\n\n\t\tGVL.STATE := STATE.REKLAP_BERAKAS_DOBOZ_INDITAS;\n\tEND_IF\n\n\tSTATE.UTOLSO_SOR:\n\t//RAKLAP KIADAS\n\t//STOP IRASA\n\n\tIF RAKLAP.DONE THEN\n\t\t//DOBOZ MODE ALAPERTELMEZET \n\t\tPALETA_SZAM := PALETA_SZAM + 1;\n\t\tSOR_SZAM :=0 ;\n\n\t\tGVL.STATE := STATE.REKLAP_BERAKAS_DOBOZ_INDITAS;\n\tEND_IF\n\n\n\tSTATE.DOBOZ_MEGFOG:\n\n\tIF I.PALETTAZO_DOBOZ_MEGFOGVA THEN\n\t\tGVL.STATE := STATE.OSSZENYITAS;\n\tEND_IF\n\n\n\tSTATE.ELENGEDES:\n\n\tIF TRANS_ELENGEDES_RAKLAP_LE_T.Q THEN\n\t\t//RAKLAP AVELJON LE \n\n\t\tGVL.STATE := STATE.RAKLAP_LE;\n\tELSIF TRANS_ELENGEDES_UTOLSO_SOR_T.Q THEN\n\t\tGVL.STATE := STATE.UTOLSO_SOR;\n\tEND_IF\n\nEND_CASE\n\nQ.PALETTAZO_MEGFOGO := (GVL.STATE = STATE.DOBOZ_MEGFOG) OR (GVL.STATE = STATE.OSSZENYITAS);\nQ.PALETTAZO_OPEN := (GVL.STATE = STATE.OSSZENYITAS);\n","LineInfoPersistence":"(string)2f345b0b-16af-48d1-9af1-da7c6f302e5a_Impl_LineIds"}}}},"Interface":{"@Type":"a9ed5b7e","@Value":{"TextDocument":{"@Type":"f3878285","@Value":{"TextBlobForSerialisation":"(string)PROGRAM PLC_PRG\nVAR\n\tPREVSTATE: STATE;\n\tPRESET: FBPRESET;\n\tRAKLAP: FBRAKLAP;\n\tDOBOZ: FBDOBOZ21212;\n\tUTOLSO_SOR: BOOL;\n\tSTOP_VAN: BOOL;\n\tTRANS_OSSZENYITAS_ELENGEDES_T: TON;\n\tTRANS_ELENGEDES_RAKLAP_LE_T: TON;\n\tTRANS_ELENGEDES_UTOLSO_SOR_T: TON;\n\tSOR_SZAM : INT;\n\tPALETA_SZAM : INT;\n\tDOBOZ_MODE : BOOL;\nEND_VAR","LineInfoPersistence":"(string)2f345b0b-16af-48d1-9af1-da7c6f302e5a_Decl_LineIds"}}}},"UniqueIdGenerator":"(string)576","POULevel":{"@Type":"8e575c5b:Enum","@Value":"Standard"},"ChildObjectGuids":{"@Type":"ArrayList:IList","@Value":[]},"AddAttributeSubsequent":"(bool)False"}},"TypeInfos":{"0db3d7bb":"{0db3d7bb-cde0-4416-9a7b-ce49a0124323}","3b83b776":"{3b83b776-fb25-43b8-99f2-3c507c9143fc}","6f9dac99":"{6f9dac99-8de1-4efc-8465-68ac443b7d08}","8e575c5b":"{8e575c5b-1d37-49c6-941b-5c0ec7874787}","a9ed5b7e":"{a9ed5b7e-75c5-4651-af16-d2c27e98cb94}","ArrayList":"System.Collections.ArrayList","bool":"System.Boolean","f3878285":"{f3878285-8e4f-490b-bb1b-9acbb7eb04db}","string":"System.String"}}},"FormatVersion":"1.0"}